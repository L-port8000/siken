<html lang="ja"><head><meta charset="UTF-8"><title>Super Firefox-ish Pro Final</title><style>:root{--bg-color:#f0f0f4;--toolbar-bg:#f9f9fb;--text-color:#000;--border-color:#d0d0d7;--accent:#0060df}body.dark-mode{--bg-color:#1c1b22;--toolbar-bg:#2b2a33;--text-color:#fbfbfe;--border-color:#52525e;--accent:#00ddff}body{margin:0;font-family:system-ui,sans-serif;background:var(--bg-color);color:var(--text-color);display:flex;flex-direction:column;height:100vh;overflow:hidden}#tabs-bar{display:flex;background:var(--bg-color);padding:5px 5px 0 5px;gap:4px;border-bottom:1px solid var(--border-color);overflow-x:auto}#tabs-bar.hidden{display:none}.tab{padding:6px 12px;background:rgba(0,0,0,0.05);border-radius:8px 8px 0 0;cursor:pointer;min-width:120px;max-width:180px;display:flex;justify-content:space-between;align-items:center;font-size:12px;border:1px solid var(--border-color);border-bottom:none}.tab.active{background:var(--toolbar-bg);font-weight:bold;border-top:2px solid var(--accent)}.close-btn{margin-left:8px;opacity:0.5;font-weight:normal}.close-btn:hover{color:red;opacity:1}#chrome{background:var(--toolbar-bg);border-bottom:1px solid var(--border-color);padding:8px;display:flex;gap:8px;align-items:center}#url{flex:1;padding:8px 15px;border-radius:20px;border:1px solid var(--border-color);background:var(--bg-color);color:var(--text-color)}#main-container{display:flex;flex:1;overflow:hidden}#side-tabs{width:180px;background:var(--toolbar-bg);border-right:1px solid var(--border-color);display:flex;flex-direction:column;padding:8px;gap:4px;overflow-y:auto}#side-tabs.hidden{display:none}.add-tab-btn-v{margin-top:8px;border:1px dashed var(--border-color);background:transparent;font-size:11px;padding:8px}#view{flex:1;display:flex;flex-direction:column;background:white}#page-container{flex:1;width:100%}iframe{width:100%;height:100%;border:none;display:block}button{padding:6px 12px;cursor:pointer;border-radius:4px;border:1px solid var(--border-color);background:rgba(0,0,0,0.05);color:inherit}button:disabled{opacity:0.3;cursor:not-allowed}.settings-page{padding:30px;background:var(--bg-color);height:100%;overflow-y:auto;box-sizing:border-box}.card{background:var(--toolbar-bg);padding:20px;border-radius:12px;border:1px solid var(--border-color);max-width:500px;margin:0 auto 20px}</style></head><body><div id="tabs-bar"></div><div id="chrome"><button id="btn-back" onclick="navBack()">‚óÄ</button><button id="btn-forward" onclick="navForward()">‚ñ∂</button><button onclick="navReload()">‚ü≥</button><button onclick="goHome()">üè†</button><input id="url" placeholder="settings:// „Åæ„Åü„ÅØ URL„ÇíÂÖ•Âäõ"><button onclick="go()">Go</button><button onclick="openSettings()">‚öôÔ∏è</button></div><div id="main-container"><div id="side-tabs"></div><div id="view"><div id="page-container"></div></div></div><script>let tabs=[];let activeTabId=null;let settings={homeUrl:"https://google.com/?igu=1",darkMode:false,useVerticalTabs:false};function init(){const savedSettings=localStorage.getItem('browser-settings');if(savedSettings)settings=JSON.parse(savedSettings);if(settings.darkMode)document.body.classList.add('dark-mode');applyTabMode();const savedTabs=localStorage.getItem('browser-sessions');if(savedTabs){tabs=JSON.parse(savedTabs);const lastActive=localStorage.getItem('browser-last-active');switchTab(lastActive?parseInt(lastActive):tabs[0].id);}else{createNewTab(settings.homeUrl);}}function saveState(){localStorage.setItem('browser-settings',JSON.stringify(settings));localStorage.setItem('browser-sessions',JSON.stringify(tabs));localStorage.setItem('browser-last-active',activeTabId);}function applyTabMode(){document.getElementById('side-tabs').classList.toggle('hidden',!settings.useVerticalTabs);document.getElementById('tabs-bar').classList.toggle('hidden',settings.useVerticalTabs);}function createNewTab(url=settings.homeUrl){const id=Date.now();tabs.push({id,url:url,title:"Êñ∞Ë¶è„Çø„Éñ",history:[url],historyIndex:0});switchTab(id);}function switchTab(id){activeTabId=id;const tab=tabs.find(t=>t.id===id);if(!tab)return;document.getElementById('url').value=tab.url;loadUrlIntoView(tab.url);updateNavButtons();renderTabsUI();saveState();}function loadUrlIntoView(url){const container=document.getElementById('page-container');container.innerHTML='';if(url==="settings://"){container.appendChild(createSettingsUI());}else{const ifr=document.createElement('iframe');ifr.src=url;ifr.onload=()=>{const tab=tabs.find(t=>t.id===activeTabId);if(tab){tab.title=url.replace(/https?:\/\//,'').split('/')[0]||url;renderTabsUI();}};container.appendChild(ifr);}}function renderTabsUI(){const hBar=document.getElementById('tabs-bar');const vBar=document.getElementById('side-tabs');const createTabEl=(tab,isVertical)=>{const isActive=tab.id===activeTabId;const div=document.createElement('div');div.className=`tab ${isActive?'active':''}`;if(isVertical)div.style.borderRadius="4px";div.innerHTML=`<span style="overflow:hidden; text-overflow:ellipsis; white-space:nowrap;">${tab.title}</span><span class="close-btn" onclick="closeTab(${tab.id}, event)">√ó</span>`;div.onclick=()=>switchTab(tab.id);return div;};hBar.innerHTML='';if(!settings.useVerticalTabs){tabs.forEach(t=>hBar.appendChild(createTabEl(t,false)));const addBtn=document.createElement('button');addBtn.textContent="Ôºã";addBtn.onclick=()=>createNewTab();hBar.appendChild(addBtn);}vBar.innerHTML='<div style="font-size:10px; opacity:0.5; margin-bottom:5px;">VERTICAL TABS</div>';if(settings.useVerticalTabs){tabs.forEach(t=>vBar.appendChild(createTabEl(t,true)));const addBtnV=document.createElement('button');addBtnV.className="add-tab-btn-v";addBtnV.textContent="Ôºã Êñ∞„Åó„ÅÑ„Çø„Éñ„ÇíËøΩÂä†";addBtnV.onclick=()=>createNewTab();vBar.appendChild(addBtnV);}}function go(){let url=document.getElementById('url').value;if(url!=="settings://"&&!url.startsWith('http'))url="https://"+url;const tab=tabs.find(t=>t.id===activeTabId);if(tab.url!==url){tab.history=tab.history.slice(0,tab.historyIndex+1);tab.history.push(url);tab.historyIndex++;tab.url=url;loadUrlIntoView(url);updateNavButtons();saveState();}}function navBack(){const tab=tabs.find(t=>t.id===activeTabId);if(tab&&tab.historyIndex>0){tab.historyIndex--;tab.url=tab.history[tab.historyIndex];document.getElementById('url').value=tab.url;loadUrlIntoView(tab.url);updateNavButtons();saveState();}}function navForward(){const tab=tabs.find(t=>t.id===activeTabId);if(tab&&tab.historyIndex<tab.history.length-1){tab.historyIndex++;tab.url=tab.history[tab.historyIndex];document.getElementById('url').value=tab.url;loadUrlIntoView(tab.url);updateNavButtons();saveState();}}function navReload(){const tab=tabs.find(t=>t.id===activeTabId);if(tab)loadUrlIntoView(tab.url);}function goHome(){const tab=tabs.find(t=>t.id===activeTabId);const home=settings.homeUrl;if(tab.url===home){navReload();return}document.getElementById('url').value=home;tab.history=tab.history.slice(0,tab.historyIndex+1);tab.history.push(home);tab.historyIndex++;tab.url=home;loadUrlIntoView(home);updateNavButtons();saveState();}function updateNavButtons(){const tab=tabs.find(t=>t.id===activeTabId);if(!tab)return;document.getElementById('btn-back').disabled=(tab.historyIndex<=0);document.getElementById('btn-forward').disabled=(tab.historyIndex>=tab.history.length-1);}function closeTab(id,e){e.stopPropagation();if(tabs.length===1)return;const idx=tabs.findIndex(t=>t.id===id);tabs=tabs.filter(t=>t.id!==id);if(activeTabId===id)switchTab(tabs[Math.max(0,idx-1)].id);else renderTabsUI();saveState();}function openSettings(){const tab=tabs.find(t=>t.id===activeTabId);if(tab.url!=="settings://"){tab.history=tab.history.slice(0,tab.historyIndex+1);tab.history.push("settings://");tab.historyIndex++;tab.url="settings://";document.getElementById('url').value="settings://";}loadUrlIntoView("settings://");updateNavButtons();saveState();}function createSettingsUI(){const div=document.createElement('div');div.className="settings-page";div.innerHTML=`<div class="card"><h3>üè† „Éõ„Éº„É†Ë®≠ÂÆö</h3><input type="text" id="set-home" value="${settings.homeUrl}" style="width:70%; padding:8px; border:1px solid var(--border-color); border-radius:4px;"><button onclick="updateHome()">‰øùÂ≠ò</button><div style="margin-top:10px;"><button onclick="setHomePreset('https://www.google.com/?igu=1')">Google</button><button onclick="setHomePreset('https://nation.online')">Nation Online</button></div></div><div class="card"><h3>üé® Ë°®Á§∫„Éª„Éá„Ç∂„Ç§„É≥</h3><div style="display:flex; flex-direction:column; gap:10px;"><button onclick="toggleSet('darkMode')">„ÉÄ„Éº„ÇØ„É¢„Éº„Éâ: ${settings.darkMode?'ON':'OFF'}</button><button onclick="toggleSet('useVerticalTabs')">Á∏¶„Çø„Éñ„Å´„Åô„Çã: ${settings.useVerticalTabs?'ON (Á∏¶„ÅÆ„Åø)':'OFF (Ê®™„ÅÆ„Åø)'}</button></div></div>`;return div;}window.updateHome=()=>{settings.homeUrl=document.getElementById('set-home').value;saveState();alert("‰øùÂ≠ò„Åó„Åæ„Åó„Åü");};window.setHomePreset=(url)=>{settings.homeUrl=url;document.getElementById('set-home').value=url;saveState();};window.toggleSet=(key)=>{settings[key]=!settings[key];if(key==='darkMode')document.body.classList.toggle('dark-mode');applyTabMode();saveState();loadUrlIntoView("settings://");};document.getElementById("url").addEventListener("keydown",e=>{if(e.key==="Enter")go();});init();</script></body></html>
